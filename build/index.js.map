{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/easel-js/lib/index.js","webpack:///./src/GOLMatrix.ts","webpack:///./node_modules/easel-js/lib/draw/mode.js","webpack:///./node_modules/easel-js/lib/draw/rect.js","webpack:///./src/GOLDrawingUtils.ts","webpack:///./src/index.ts","webpack:///./src/GOLPresets.ts","webpack:///./node_modules/anim-loop-engine/lib/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Easel","id","this","bindTo","cv","document","getElementById","cx","getContext","setupCanvas","cvStyle","window","getComputedStyle","setAttribute","width","height","w","parseInt","h","rt","getBoundingClientRect","clearRect","DrawModes","GameOfLifeMatrix","gridSize","liveCells","setCellLive","cellMatrix","x","y","getCellState","isAlive","numNeighbours","j","nY","nX","iterate","nextCells","state","setCellState","alive","updateCells","rect","beginPath","fill","stroke","drawWithMode","drawBgGrid","easel","cellSize","fillStyle","wipe","drawLiveCells","presets","glider","lightweight","mediumweight","heavyweight","pulsar","rpentomino","gospargun","lastMouseBtn","mouseBtn","running","loopInterval","drawX","drawY","onChangeTimeoutId","GOL","btnToggle","txtGridSize","txtInterval","bgEasel","engine","animate","frameReqId","frameTasks","lastFrameTaskId","loop","ts","numTasks","length","fn","requestAnimationFrame","addTasks","task","tasks","createdIds","forEach","push","taskId","filter","debugInterval","cancelAnimationFrame","toString","onclick","stop","start","onkeyup","e","clearTimeout","setTimeout","newGridSize","target","presetBtns","getElementsByClassName","padding","currentTarget","replace","dataset","pad","preset","output","finalLength","row","concat","padPreset","onblur","handleMouseDraw","gridX","Math","floor","clientX","left","gridY","clientY","top","addEventListener","preventDefault","onmousedown","button","onmousemove","onmouseup","tsFrom","innerHTML","addTask"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,sCClF9C,MAAMC,EACT,YAAYC,GACR,OAAOC,KAAKC,OAAOF,GAEvB,OAAOA,GAIH,OAHAC,KAAKE,GAAKC,SAASC,eAAeL,GAClCC,KAAKK,GAAKL,KAAKE,GAAGI,WAAW,MAC7BN,KAAKO,cACEP,KAEX,cACI,MAAMQ,EAAUC,OAAOC,iBAAiBV,KAAKE,IAC7CF,KAAKE,GAAGS,aAAa,QAASH,EAAQI,OACtCZ,KAAKE,GAAGS,aAAa,SAAUH,EAAQK,QACvCb,KAAKc,EAAIC,SAASP,EAAQI,OAC1BZ,KAAKgB,EAAID,SAASP,EAAQK,QAC1Bb,KAAKiB,GAAKjB,KAAKE,GAAGgB,wBAEtB,OACIlB,KAAKK,GAAGc,UAAU,EAAG,EAAGnB,KAAKc,EAAGd,KAAKgB,ICnB7C,ICAII,EDAAC,EAAkC,WAClC,SAASA,EAAiBC,GACtBtB,KAAKsB,SAAWA,EAChBtB,KAAKuB,UAAY,GAEjBvB,KAAKwB,YAAc,SAAUC,EAAYC,EAAGC,GACxCF,EAAWE,GAAKF,EAAWE,IAAM,GACjCF,EAAWE,GAAGD,GAAK,GAuF3B,OAnFAL,EAAiB3B,UAAUkC,aAAe,SAAUF,EAAGC,GAInD,IAHA,IAAIE,EAAU7B,KAAKuB,UAAUI,IAAM3B,KAAKuB,UAAUI,GAAGD,GACjDI,EAAgB,EAEXhE,GAAK,EAAGA,GAAK,EAAGA,IACrB,IAAK,IAAIiE,GAAK,EAAGA,GAAK,EAAGA,IACrB,GAAU,IAANjE,GAAiB,IAANiE,EAAf,CAIA,IAAIC,EAAKL,EAAI7D,EACTmE,EAAKP,EAAIK,EAETC,EAAK,EACLA,EAAKhC,KAAKsB,SAAW,EAEhBU,GAAMhC,KAAKsB,WAChBU,EAAK,GAELC,EAAK,EACLA,EAAKjC,KAAKsB,SAAW,EAEhBW,GAAMjC,KAAKsB,WAChBW,EAAK,GAGLjC,KAAKuB,UAAUS,IAAOhC,KAAKuB,UAAUS,GAAIC,IACzCH,IAIZ,MAAO,CAAED,QAASA,EAASC,cAAeA,IAG9CT,EAAiB3B,UAAUwC,QAAU,WAGjC,IAFA,IAAIC,EAAY,GAEPrE,EAAI,EAAGA,EAAIkC,KAAKsB,SAAUxD,IAC/B,IAAK,IAAIiE,EAAI,EAAGA,EAAI/B,KAAKsB,SAAUS,IAAK,CAEpC,IAAIK,EAAQpC,KAAK4B,aAAaG,EAAGjE,IAGhCsE,EAAMP,SACHO,EAAMN,eAAiB,GACvBM,EAAMN,eAAiB,IAErBM,EAAMP,SAAmC,IAAxBO,EAAMN,gBACzB9B,KAAKwB,YAAYW,EAAWJ,EAAGjE,GAI3CkC,KAAKuB,UAAYY,GAGrBd,EAAiB3B,UAAU2C,aAAe,SAAUX,EAAGC,EAAGW,GAGtD,IAFA,IAAIC,EAAc,GAETzE,EAAI,EAAGA,EAAIkC,KAAKsB,SAAUxD,IAE/B,GAAKkC,KAAKuB,UAAUzD,IAAMA,IAAM6D,EAAhC,CAIAY,EAAYzE,GAAKkC,KAAKuB,UAAUzD,IAAM,GACtC,IAAK,IAAIiE,EAAI,EAAGA,EAAI/B,KAAKsB,SAAUS,IAC3BjE,IAAM6D,GAAKI,IAAML,EACbY,EACAtC,KAAKwB,YAAYe,EAAaR,EAAGjE,GAE5ByE,EAAYzE,WACVyE,EAAYzE,GAAGiE,GAItB/B,KAAKuB,UAAUzD,IAAMkC,KAAKuB,UAAUzD,GAAGiE,IACvC/B,KAAKwB,YAAYe,EAAaR,EAAGjE,GAKjDkC,KAAKuB,UAAYgB,GAEdlB,EA9F0B,ICCrC,SAAWD,GACPA,EAAUA,EAAa,EAAI,GAAK,IAChCA,EAAUA,EAAa,EAAI,GAAK,IAChCA,EAAUA,EAAc,GAAI,GAAK,KACjCA,EAAUA,EAAc,GAAI,GAAK,KAJrC,CAKGA,IAAcA,EAAY,KACtB,MCNMoB,EAAO,CAACnC,EAAIqB,EAAGC,EAAGb,EAAGE,EAAG/B,KACjCoB,EAAGoC,YACHpC,EAAGmC,KAAKd,EAAGC,EAAGb,EAAGE,GDIO,EAACX,EAAIpB,KAC7B,OAAQA,GACJ,IAAK,IACDoB,EAAGqC,OACH,MACJ,IAAK,IACDrC,EAAGsC,SACH,MACJ,IAAK,KACDtC,EAAGqC,OACHrC,EAAGsC,SACH,MACJ,IAAK,KACDtC,EAAGsC,SACHtC,EAAGqC,SCjBXE,CAAavC,EAAIpB,ICHrB,ICKI,EDFO4D,EAAa,SAAUC,EAAOxB,EAAUyB,GAC/CD,EAAMzC,GAAG2C,UAHC,OAIVF,EAAMG,OACN,IAAK,IAAInF,EAAI,EAAGA,EAAIwD,EAAUxD,IAC1B,IAAK,IAAIiE,EAAI,EAAGA,EAAIT,EAAUS,IAC1B,QAAQ,GACJ,KAAKjE,EAAI,GAAM,GAAKiE,EAAI,GAAM,EAC9B,KAAKjE,EAAI,GAAM,GAAKiE,EAAI,GAAM,EAC1BS,EAAKM,EAAMzC,GAAI0B,EAAIgB,EAAUjF,EAAIiF,EAAUA,EAAUA,EAAU,OAMxEG,EAAgB,SAAUJ,EAAOvB,EAAWwB,GAGnD,IAAK,IAAIjF,KAFTgF,EAAMzC,GAAG2C,UAlBI,OAmBbF,EAAMG,OACQ1B,EACV,IAAK,IAAIQ,KAAKR,EAAUzD,GACpB0E,EAAKM,EAAMzC,GAAIU,SAASgB,GAAKgB,EAAUhC,SAASjD,GAAKiF,EAAUA,EAAUA,EAAU,MEtB3FI,EAAU,CACVC,OAAQ,CACJ,CAAC,CAAE,CAAE,GACL,CAAC,EAAG,CAAE,GACN,CAAC,CAAE,EAAG,IAEVC,YAAa,CACT,CAAC,CAAE,EAAG,GACN,CAAC,EAAG,EAAG,EAAG,GACV,CAAC,EAAG,EAAG,CAAE,EAAG,GACZ,CAAC,CAAE,CAAE,EAAG,IAEZC,aAAc,CACV,CAAC,CAAE,EAAG,EAAG,GACT,CAAC,EAAG,EAAG,EAAG,EAAG,GACb,CAAC,EAAG,EAAG,EAAG,CAAE,EAAG,GACf,CAAC,CAAE,CAAE,CAAE,EAAG,IAEdC,YAAa,CACT,CAAC,CAAE,EAAG,EAAG,EAAG,GACZ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,GAChB,CAAC,EAAG,EAAG,EAAG,EAAG,CAAE,EAAG,GAClB,CAAC,CAAE,CAAE,CAAE,CAAE,EAAG,IAEhBC,OAAQ,CACJ,CAAC,CAAE,CAAE,EAAG,EAAG,EAAG,CAAE,CAAE,CAAE,EAAG,EAAG,GAC1B,GACA,CAAC,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,GAC5B,CAAC,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,GAC5B,CAAC,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,GAC5B,CAAC,CAAE,CAAE,EAAG,EAAG,EAAG,CAAE,CAAE,CAAE,EAAG,EAAG,GAC1B,GACA,CAAC,CAAE,CAAE,EAAG,EAAG,EAAG,CAAE,CAAE,CAAE,EAAG,EAAG,GAC1B,CAAC,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,GAC5B,CAAC,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,GAC5B,CAAC,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,GAC5B,GACA,CAAC,CAAE,CAAE,EAAG,EAAG,EAAG,CAAE,CAAE,CAAE,EAAG,EAAG,IAE9BC,WAAY,CACR,CAAC,CAAE,EAAG,GACN,CAAC,EAAG,GACJ,CAAC,CAAE,IAEPC,UAAW,CACP,CAAC,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,GACjD,CAAC,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,GAClD,CAAC,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,GAC5E,CAAC,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,GAC5E,CAAC,EAAG,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,EAAG,GAChD,CAAC,EAAG,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,EAAG,CAAE,EAAG,EAAG,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,GACxD,CAAC,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,GACnD,CAAC,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,CAAE,CAAE,CAAE,GAChC,CAAC,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,CAAE,EAAG,KD/ChCC,EAAe,EACfC,EAAW,EACXC,GAAU,EACVC,EAAe,IACf,EAAW,GACXC,EAAQ,EACRC,EAAQ,EACRC,EAAoB,EAGpBC,EAAM,IAAI7C,EAAiB,GAC3B8C,EAAYhE,SAASC,eAAe,kBACpCgE,EAAcjE,SAASC,eAAe,iBACtCiE,EAAclE,SAASC,eAAe,gBAEtCkE,EAAU,IAAIxE,EAAM,YACpB,EAAQ,IAAIA,EAAM,SAClByE,EAAS,IEnBN,MACH,cACIvE,KAAKwE,SAAU,EACfxE,KAAKyE,WAAa,EAClBzE,KAAK0E,WAAa,GAClB1E,KAAK2E,gBAAkB,EACvB3E,KAAK4E,KAAO,CAACC,EAAK,KACd,MAAMC,EAAW9E,KAAK0E,WAAWK,OACjC,IAAK,IAAIjH,EAAI,EAAGA,EAAIgH,EAAUhH,IAC1BkC,KAAK0E,WAAW5G,GAAGkH,GAAGH,GAE1B7E,KAAKyE,WAAaQ,sBAAsBjF,KAAK4E,OAEjD5E,KAAKkF,SAAWlF,KAAKkF,SAAS5F,KAAKU,MAEvC,QAAQmF,GACJ,OAAOnF,KAAKkF,SAAS,CAACC,IAAO,GAEjC,SAASC,GACL,MAAMC,EAAa,GACnB,OAAoB,GAAhBD,EAAML,OACCM,GAEXD,EAAME,QAAQH,IACVnF,KAAK0E,WAAWa,KAAK,CAAExF,GAAIC,KAAK2E,gBAAiBK,GAAIG,IACrDE,EAAWE,KAAKvF,KAAK2E,iBACrB3E,KAAK2E,oBAEFU,GAEX,WAAWG,GACPxF,KAAK0E,WAAa1E,KAAK0E,WAAWe,OAAOzG,GAAKA,EAAEe,KAAOyF,GAE3D,MAAME,GACG1F,KAAKwE,UACNxE,KAAKwE,SAAU,EACfxE,KAAK4E,QAGb,OACIe,qBAAqB3F,KAAKyE,YAC1BzE,KAAKwE,SAAU,IFpBvBJ,EAAYrF,MAAQ,EAAS6G,WAC7BvB,EAAYtF,MAAQ+E,EAAa8B,WAEjC,EAAW,EAAM9E,EAAI,EAGrBqD,EAAU0B,QAAU,WACXhC,EAIDiC,IAHAC,KAOR3B,EAAY4B,QAAU,SAAUC,GAC5BC,aAAajC,GACbA,EAAoBkC,YAAW,WAC3B,IAAIC,EAAcrF,SAASkF,EAAEI,OAAOtH,OAChCqH,IAAgB,IAChB,EAAWA,EACX,EAAW,EAAMtF,EAAI,EACrBoD,EAAI5C,SAAW,EACfuB,EAAWyB,EAAS,EAAU,MAEnC,MAGPD,EAAY2B,QAAU,SAAUC,GAC5BC,aAAajC,GACbA,EAAoBkC,YAAW,WAC3BrC,EAAemC,EAAEI,OAAOtH,QACzB,MAKP,IADA,IAAIuH,EAAanG,SAASoG,uBAAuB,cACxC,EAAI,EAAG,EAAID,EAAWvB,OAAQ,IAAK,CAC9BuB,EAAW,GACjBT,QAAU,SAAUI,GCML,IAAUlG,EAAIyG,EDL7BtC,EAAI3C,WCKqBxB,EDLCkG,EAAEQ,cAAc1G,GAAG2G,QAAQ,UAAW,KCKnCF,EDLwCP,EAAEQ,cAAcE,QAAQC,IAAM7F,SAASkF,EAAEQ,cAAcE,QAAQC,KAAO,MCRnI,SAAUC,EAAQtH,GAG9B,IAFA,IAAIuH,EAAS,GACTC,EAAcxH,EAAIsH,EAAO9B,OACpBjH,EAAI,EAAGA,EAAIiJ,EAAajJ,IAAK,CAClC,IAAIkJ,EAAM,GACVA,EAAIjC,OAASxF,EACGsH,EAAO/I,EAAIyB,GAC3BuH,EACIhJ,EAAIyB,EAAIuH,EAAOG,OAAO,CAACD,IAAQF,EAAOG,OAAO,CAACD,EAAIC,OAAOJ,EAAO/I,EAAIyB,MAE5E,OAAOuH,EAIUI,CAAU/D,EAAQpD,GAAKyG,GAAWrD,EAAQpD,IDLvDmD,EAAc,EAAOgB,EAAI3C,UAAW,IAK5Cd,OAAO0G,OAAS,WACZrB,KAGJ,IAAIsB,EAAkB,SAAUnB,GAC5B,GAAiB,IAAbrC,EAAgB,CAChB,IAAIyD,EAAQC,KAAKC,OAAOtB,EAAEuB,QAAU,EAAMvG,GAAGwG,MAAQ,GACjDC,EAAQJ,KAAKC,OAAOtB,EAAE0B,QAAU,EAAM1G,GAAG2G,KAAO,GACpD,GAAIP,IAAUtD,GAAS2D,IAAU1D,GAASJ,IAAaD,EAAc,CACjEI,EAAQsD,EACRrD,EAAQ0D,EACR,IAAItF,EAAQwB,EAAW,EAAI,EAAI,EAE/BM,EAAI7B,aAAagF,EAAOK,EAAOtF,GAC/Bc,EAAc,EAAOgB,EAAI3C,UAAW,GAExCoC,EAAeC,IAGvB,EAAM1D,GAAG2H,iBAAiB,eAAe,SAAU5B,GAAK,OAAOA,EAAE6B,oBACjE,EAAM5H,GAAG6H,YAAc,SAAU9B,GAC7BrC,EAAwB,IAAbqC,EAAE+B,QAAgB,EAAI,EACjCZ,EAAgBnB,IAEpB,EAAM/F,GAAG+H,YAAcb,EACvB3G,OAAOyH,UAAY,WAAc,OAAQtE,EAAW,GAEpD,IAAIuE,EAAS,EAUTpC,EAAQ,WACRxB,EAAOwB,QACP5B,EAAUiE,UAhGM,QAiGhBvE,GAAU,GAEViC,EAAO,WACPvB,EAAOuB,OACP3B,EAAUiE,UApGQ,MAqGlBvE,GAAU,GAGdhB,EAAWyB,EAAS,EAAU,GAE9BC,EAAO8D,SAtBM,SAAUxD,QACR,IAAPA,IAAiBA,EAAK,GACtBA,EAAKsD,GAAUrE,IACfI,EAAIhC,UACJgB,EAAc,EAAOgB,EAAI3C,UAAW,GACpC4G,EAAStD","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export class Easel {\r\n    constructor(id) {\r\n        return this.bindTo(id);\r\n    }\r\n    bindTo(id) {\r\n        this.cv = document.getElementById(id);\r\n        this.cx = this.cv.getContext('2d');\r\n        this.setupCanvas();\r\n        return this;\r\n    }\r\n    setupCanvas() {\r\n        const cvStyle = window.getComputedStyle(this.cv);\r\n        this.cv.setAttribute('width', cvStyle.width);\r\n        this.cv.setAttribute('height', cvStyle.height);\r\n        this.w = parseInt(cvStyle.width);\r\n        this.h = parseInt(cvStyle.height);\r\n        this.rt = this.cv.getBoundingClientRect();\r\n    }\r\n    wipe() {\r\n        this.cx.clearRect(0, 0, this.w, this.h);\r\n    }\r\n}\r\n","var GameOfLifeMatrix = /** @class */ (function () {\r\n    function GameOfLifeMatrix(gridSize) {\r\n        this.gridSize = gridSize;\r\n        this.liveCells = [];\r\n        // Set a cell live, initializing a matrix row if needed\r\n        this.setCellLive = function (cellMatrix, x, y) {\r\n            cellMatrix[y] = cellMatrix[y] || [];\r\n            cellMatrix[y][x] = 1;\r\n        };\r\n    }\r\n    // Get a cell's state; it's alive status plus neighbour count\r\n    GameOfLifeMatrix.prototype.getCellState = function (x, y) {\r\n        var isAlive = this.liveCells[y] && this.liveCells[y][x];\r\n        var numNeighbours = 0;\r\n        // Check a range from -1 to +1 from this cell, both axes\r\n        for (var i = -1; i <= 1; i++) {\r\n            for (var j = -1; j <= 1; j++) {\r\n                if (i === 0 && j === 0) {\r\n                    continue;\r\n                }\r\n                // Get neighbour cell position to check\r\n                var nY = y + i;\r\n                var nX = x + j;\r\n                // If out of bounds, wrap around\r\n                if (nY < 0) {\r\n                    nY = this.gridSize - 1;\r\n                }\r\n                else if (nY >= this.gridSize) {\r\n                    nY = 0;\r\n                }\r\n                if (nX < 0) {\r\n                    nX = this.gridSize - 1;\r\n                }\r\n                else if (nX >= this.gridSize) {\r\n                    nX = 0;\r\n                }\r\n                // If a neighbour exists here increment neighbour count\r\n                if (this.liveCells[nY] && this.liveCells[nY][nX]) {\r\n                    numNeighbours++;\r\n                }\r\n            }\r\n        }\r\n        return { isAlive: isAlive, numNeighbours: numNeighbours };\r\n    };\r\n    // Perform an iteration, in life terms, a generation\r\n    GameOfLifeMatrix.prototype.iterate = function () {\r\n        var nextCells = [];\r\n        // Sweep the whole grid\r\n        for (var i = 0; i < this.gridSize; i++) {\r\n            for (var j = 0; j < this.gridSize; j++) {\r\n                // Get cell state\r\n                var state = this.getCellState(j, i);\r\n                if (\r\n                // If it's alive with 2 or 3 neighbours, stay alive\r\n                (state.isAlive &&\r\n                    state.numNeighbours >= 2 &&\r\n                    state.numNeighbours <= 3) ||\r\n                    // Or if not alive with 3 neighbours, spring into life\r\n                    (!state.isAlive && state.numNeighbours === 3)) {\r\n                    this.setCellLive(nextCells, j, i);\r\n                }\r\n            }\r\n        }\r\n        this.liveCells = nextCells;\r\n    };\r\n    // Set a cell's state\r\n    GameOfLifeMatrix.prototype.setCellState = function (x, y, alive) {\r\n        var updateCells = [];\r\n        // Loop through the grid, clicked to live, keep live cells we didn't click\r\n        for (var i = 0; i < this.gridSize; i++) {\r\n            // Skip unclicked empty row\r\n            if (!this.liveCells[i] && i !== y) {\r\n                continue;\r\n            }\r\n            // Copy any existing row cells\r\n            updateCells[i] = this.liveCells[i] || [];\r\n            for (var j = 0; j < this.gridSize; j++) {\r\n                if (i === y && j === x) {\r\n                    if (alive) {\r\n                        this.setCellLive(updateCells, j, i);\r\n                    }\r\n                    else if (updateCells[i]) {\r\n                        delete updateCells[i][j];\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.liveCells[i] && this.liveCells[i][j]) {\r\n                        this.setCellLive(updateCells, j, i);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.liveCells = updateCells;\r\n    };\r\n    return GameOfLifeMatrix;\r\n}());\r\nexport { GameOfLifeMatrix };\r\n","var DrawModes;\r\n(function (DrawModes) {\r\n    DrawModes[DrawModes[\"f\"] = 0] = \"f\";\r\n    DrawModes[DrawModes[\"s\"] = 1] = \"s\";\r\n    DrawModes[DrawModes[\"fs\"] = 2] = \"fs\";\r\n    DrawModes[DrawModes[\"sf\"] = 3] = \"sf\"; // Stroke then fill\r\n})(DrawModes || (DrawModes = {}));\r\nexport const drawWithMode = (cx, mode) => {\r\n    switch (mode) {\r\n        case 'f':\r\n            cx.fill();\r\n            break;\r\n        case 's':\r\n            cx.stroke();\r\n            break;\r\n        case 'fs':\r\n            cx.fill();\r\n            cx.stroke();\r\n            break;\r\n        case 'sf':\r\n            cx.stroke();\r\n            cx.fill();\r\n            break;\r\n    }\r\n};\r\n","import { drawWithMode } from './mode';\r\nexport const rect = (cx, x, y, w, h, mode) => {\r\n    cx.beginPath();\r\n    cx.rect(x, y, w, h);\r\n    drawWithMode(cx, mode);\r\n};\r\n","import { rect } from 'easel-js/lib/draw/rect';\r\nvar aliveColor = '#484';\r\nvar bgColor = '#DDD';\r\n// Generate background grid\r\nexport var drawBgGrid = function (easel, gridSize, cellSize) {\r\n    easel.cx.fillStyle = bgColor;\r\n    easel.wipe();\r\n    for (var i = 0; i < gridSize; i++) {\r\n        for (var j = 0; j < gridSize; j++) {\r\n            switch (true) {\r\n                case i % 2 === 0 && j % 2 === 0:\r\n                case i % 2 !== 0 && j % 2 !== 0:\r\n                    rect(easel.cx, j * cellSize, i * cellSize, cellSize, cellSize, 'f');\r\n            }\r\n        }\r\n    }\r\n};\r\n// Draw live cells\r\nexport var drawLiveCells = function (easel, liveCells, cellSize) {\r\n    easel.cx.fillStyle = aliveColor;\r\n    easel.wipe();\r\n    for (var i in liveCells) {\r\n        for (var j in liveCells[i]) {\r\n            rect(easel.cx, parseInt(j) * cellSize, parseInt(i) * cellSize, cellSize, cellSize, 'f');\r\n        }\r\n    }\r\n};\r\n","import { AnimLoopEngine } from 'anim-loop-engine';\r\nimport { Easel } from 'easel-js';\r\nimport { GameOfLifeMatrix } from './GOLMatrix';\r\nimport { drawBgGrid, drawLiveCells } from './GOLDrawingUtils';\r\nimport { getPreset } from './GOLPresets';\r\n// Defaults, declarations and elements\r\nvar cellSize;\r\nvar lastMouseBtn = 0;\r\nvar mouseBtn = 0;\r\nvar running = false;\r\nvar loopInterval = 150;\r\nvar gridSize = 20;\r\nvar drawX = 0;\r\nvar drawY = 0;\r\nvar onChangeTimeoutId = 0;\r\nvar btnTextActive = 'PAUSE';\r\nvar btnTextInactive = 'RUN';\r\nvar GOL = new GameOfLifeMatrix(gridSize);\r\nvar btnToggle = document.getElementById('btn-toggle-sim');\r\nvar txtGridSize = document.getElementById('txt-grid-size');\r\nvar txtInterval = document.getElementById('txt-interval');\r\n// Instantiate canvases and anim engine\r\nvar bgEasel = new Easel('g-o-l-bg');\r\nvar easel = new Easel('g-o-l');\r\nvar engine = new AnimLoopEngine();\r\n// Assign defaults to control input fields\r\ntxtGridSize.value = gridSize.toString();\r\ntxtInterval.value = loopInterval.toString();\r\n// Set grid cell size based on canvas width and number of divisions\r\ncellSize = easel.w / gridSize;\r\n// >>> Game control events\r\n// Run/pause button toggle\r\nbtnToggle.onclick = function () {\r\n    if (!running) {\r\n        start();\r\n    }\r\n    else {\r\n        stop();\r\n    }\r\n};\r\n// Grid size value change\r\ntxtGridSize.onkeyup = function (e) {\r\n    clearTimeout(onChangeTimeoutId);\r\n    onChangeTimeoutId = setTimeout(function () {\r\n        var newGridSize = parseInt(e.target.value);\r\n        if (newGridSize !== gridSize) {\r\n            gridSize = newGridSize;\r\n            cellSize = easel.w / gridSize;\r\n            GOL.gridSize = gridSize;\r\n            drawBgGrid(bgEasel, gridSize, cellSize);\r\n        }\r\n    }, 1000);\r\n};\r\n// Animation interval value change\r\ntxtInterval.onkeyup = function (e) {\r\n    clearTimeout(onChangeTimeoutId);\r\n    onChangeTimeoutId = setTimeout(function () {\r\n        loopInterval = e.target.value;\r\n    }, 1000);\r\n};\r\n// <<<  Game control events\r\n// >>> Presets\r\nvar presetBtns = document.getElementsByClassName('btn-preset');\r\nfor (var i = 0; i < presetBtns.length; i++) {\r\n    var btn = presetBtns[i];\r\n    btn.onclick = function (e) {\r\n        GOL.liveCells = getPreset(e.currentTarget.id.replace('preset-', ''), e.currentTarget.dataset.pad ? parseInt(e.currentTarget.dataset.pad) : null);\r\n        drawLiveCells(easel, GOL.liveCells, cellSize);\r\n    };\r\n}\r\n// <<< Presets\r\n// Window blur stops animation, just in case\r\nwindow.onblur = function () {\r\n    stop();\r\n};\r\n// Handle cell clicks on the grid\r\nvar handleMouseDraw = function (e) {\r\n    if (mouseBtn !== 0) {\r\n        var gridX = Math.floor((e.clientX - easel.rt.left) / cellSize);\r\n        var gridY = Math.floor((e.clientY - easel.rt.top) / cellSize);\r\n        if (gridX !== drawX || gridY !== drawY || mouseBtn !== lastMouseBtn) {\r\n            drawX = gridX;\r\n            drawY = gridY;\r\n            var state = mouseBtn < 0 ? 1 : 0;\r\n            // Toggle a cell's alive state\r\n            GOL.setCellState(gridX, gridY, state);\r\n            drawLiveCells(easel, GOL.liveCells, cellSize);\r\n        }\r\n        lastMouseBtn = mouseBtn;\r\n    }\r\n};\r\neasel.cv.addEventListener('contextmenu', function (e) { return e.preventDefault(); });\r\neasel.cv.onmousedown = function (e) {\r\n    mouseBtn = e.button === 0 ? -1 : 1;\r\n    handleMouseDraw(e);\r\n};\r\neasel.cv.onmousemove = handleMouseDraw;\r\nwindow.onmouseup = function () { return (mouseBtn = 0); };\r\n// Game update loop, receives timestamp from AnimLoopEngine\r\nvar tsFrom = 0;\r\nvar update = function (ts) {\r\n    if (ts === void 0) { ts = 0; }\r\n    if (ts - tsFrom >= loopInterval) {\r\n        GOL.iterate();\r\n        drawLiveCells(easel, GOL.liveCells, cellSize);\r\n        tsFrom = ts;\r\n    }\r\n};\r\n// Start/stop\r\nvar start = function () {\r\n    engine.start();\r\n    btnToggle.innerHTML = btnTextActive;\r\n    running = true;\r\n};\r\nvar stop = function () {\r\n    engine.stop();\r\n    btnToggle.innerHTML = btnTextInactive;\r\n    running = false;\r\n};\r\n// Draw the BG grid\r\ndrawBgGrid(bgEasel, gridSize, cellSize);\r\n// Add update task to engine\r\nengine.addTask(update);\r\n// Everything is initialized\r\n","// prettier-ignore\r\nvar presets = {\r\n    glider: [\r\n        [, , 1],\r\n        [1, , 1],\r\n        [, 1, 1]\r\n    ],\r\n    lightweight: [\r\n        [, 1, 1],\r\n        [1, 1, 1, 1],\r\n        [1, 1, , 1, 1],\r\n        [, , 1, 1]\r\n    ],\r\n    mediumweight: [\r\n        [, 1, 1, 1],\r\n        [1, 1, 1, 1, 1],\r\n        [1, 1, 1, , 1, 1],\r\n        [, , , 1, 1]\r\n    ],\r\n    heavyweight: [\r\n        [, 1, 1, 1, 1],\r\n        [1, 1, 1, 1, 1, 1],\r\n        [1, 1, 1, 1, , 1, 1],\r\n        [, , , , 1, 1]\r\n    ],\r\n    pulsar: [\r\n        [, , 1, 1, 1, , , , 1, 1, 1],\r\n        [],\r\n        [1, , , , , 1, , 1, , , , , 1],\r\n        [1, , , , , 1, , 1, , , , , 1],\r\n        [1, , , , , 1, , 1, , , , , 1],\r\n        [, , 1, 1, 1, , , , 1, 1, 1],\r\n        [],\r\n        [, , 1, 1, 1, , , , 1, 1, 1],\r\n        [1, , , , , 1, , 1, , , , , 1],\r\n        [1, , , , , 1, , 1, , , , , 1],\r\n        [1, , , , , 1, , 1, , , , , 1],\r\n        [],\r\n        [, , 1, 1, 1, , , , 1, 1, 1]\r\n    ],\r\n    rpentomino: [\r\n        [, 1, 1],\r\n        [1, 1],\r\n        [, 1]\r\n    ],\r\n    gospargun: [\r\n        [, , , , , , , , , , , , , , , , , , , , , , , , 1],\r\n        [, , , , , , , , , , , , , , , , , , , , , , 1, , 1],\r\n        [, , , , , , , , , , , , 1, 1, , , , , , , 1, 1, , , , , , , , , , , , , 1, 1],\r\n        [, , , , , , , , , , , 1, , , , 1, , , , , 1, 1, , , , , , , , , , , , , 1, 1],\r\n        [1, 1, , , , , , , , , 1, , , , , , 1, , , , 1, 1,],\r\n        [1, 1, , , , , , , , , 1, , , , 1, , 1, 1, , , , , 1, , 1],\r\n        [, , , , , , , , , , 1, , , , , , 1, , , , , , , , 1],\r\n        [, , , , , , , , , , , 1, , , , 1],\r\n        [, , , , , , , , , , , , 1, 1],\r\n    ]\r\n};\r\n// Pad the left and top of a preset by n rows/cols\r\nvar padPreset = function (preset, n) {\r\n    var output = [];\r\n    var finalLength = n + preset.length;\r\n    for (var i = 0; i < finalLength; i++) {\r\n        var row = [];\r\n        row.length = n;\r\n        var presetRow = preset[i - n];\r\n        output =\r\n            i < n ? output.concat([row]) : output.concat([row.concat(preset[i - n])]);\r\n    }\r\n    return output;\r\n};\r\n// Get a specified preset, optionally padding it\r\nexport var getPreset = function (id, padding) {\r\n    return padding ? padPreset(presets[id], padding) : presets[id];\r\n};\r\n","/**\r\n * Simple boilerplate avoidance class for requestAnimationFrame looping\r\n * which runs an array of tasks you specify for frame. It's not clever -\r\n * it assumes you're keeping your frame tasks fast.\r\n */\r\nexport class AnimLoopEngine {\r\n    constructor() {\r\n        this.animate = false;\r\n        this.frameReqId = 0;\r\n        this.frameTasks = [];\r\n        this.lastFrameTaskId = 0;\r\n        this.loop = (ts = 0) => {\r\n            const numTasks = this.frameTasks.length;\r\n            for (let i = 0; i < numTasks; i++) {\r\n                this.frameTasks[i].fn(ts);\r\n            }\r\n            this.frameReqId = requestAnimationFrame(this.loop);\r\n        };\r\n        this.addTasks = this.addTasks.bind(this);\r\n    }\r\n    addTask(task) {\r\n        return this.addTasks([task])[0];\r\n    }\r\n    addTasks(tasks) {\r\n        const createdIds = [];\r\n        if (tasks.length == 0) {\r\n            return createdIds;\r\n        }\r\n        tasks.forEach(task => {\r\n            this.frameTasks.push({ id: this.lastFrameTaskId, fn: task });\r\n            createdIds.push(this.lastFrameTaskId);\r\n            this.lastFrameTaskId++;\r\n        });\r\n        return createdIds;\r\n    }\r\n    deleteTask(taskId) {\r\n        this.frameTasks = this.frameTasks.filter(t => t.id !== taskId);\r\n    }\r\n    start(debugInterval) {\r\n        if (!this.animate) {\r\n            this.animate = true;\r\n            this.loop();\r\n        }\r\n    }\r\n    stop() {\r\n        cancelAnimationFrame(this.frameReqId);\r\n        this.animate = false;\r\n    }\r\n}\r\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}